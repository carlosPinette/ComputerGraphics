<html> 
<!-- 
	Lupita Martínez Azmitia A01096776
	Carlos Ramón Perera Pinette A01099559
	Gráficas Computacionales
	Actividad threejs paisaje con navegación

	<- Girar a la izquierda
	-> Girar a la derecha
	^ Avanzar
	v Retroceder
	W arriba
	S abajo
-->
    <head> 
        <title> Paisaje.js app </title> 
        <style> 
            canvas { width: 100%; height: 100% }
			
        </style> 
    </head> 
    <body> 
        <script src="three.min.js"> </script> 
        <script> 
            
            window.addEventListener('keydown',doKeyDown,true);
		
			var a= 0.00;
			var c = 0.00;
			var b = 0;
			var x = 0.0;
			var z = 10.0;
			var y = 0;

				 function doKeyDown(evt){
                //console.log("Tecla presionada: "+evt.keyCode);
                switch (evt.keyCode) {
                    case 38:  /* Up arrow pressed */                        
						a = Math.sin(b)*1;
						c = Math.cos(b)*1;
						x -= a;
						z -= c;
                        break;
                    case 40:  /* Down arrow pressed */
						a = (Math.sin(b)*1);
						c = (Math.cos(b)*1);
						x += a;
						z += c;
                        break;
                    case 37:  /* Left arrow pressed */
						b += 0.05;
                        break;
                    case 39:  /* Right arrow pressed */
						b -= 0.05;
                        break;
                    case 87:  /* W was pressed */
                        y += .05;              
                    break;
                    case 83:  /* S was pressed */
                         y -= .05;                    
                    break;
                    case 69:  /* E was pressed */
                        
                    break;
                    case 68:  /* D was pressed */
                        
                    break;
                }
            }
            // three basic components of a scene : scene, camera, and render 
            // (lights)

            var scene = new THREE.Scene(); 
            var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000); 
            var renderer = new THREE.WebGLRenderer();


            renderer.setSize(window.innerWidth, window.innerHeight); 
            document.body.appendChild(renderer.domElement); 

            var geometry = new THREE.CylinderGeometry(0,3,5,16,2,false);
			var geometry3 = new THREE.CylinderGeometry(0,2.5,5,16,2,false);
            var geometry2 = new THREE.CylinderGeometry(1,1,4,16,2,false);
			var geometry4 = new THREE.CubeGeometry(7,4,6);
			var geometry5 = new THREE.CubeGeometry(.2,3.2,1.3);
			var geometry6 = new THREE.CubeGeometry(.2,1.3,1.3);
			var geometry7 = new THREE.CubeGeometry(9,1,8);
            
			//carro
			var geometry8  = new THREE.CubeGeometry(7,1.5,5);
			var geometry9 = new THREE.CubeGeometry(5,.8,5);
			
          var geometry10 = new THREE.CylinderGeometry(.7,.7,.2,16,4,false);
		  var geometry11 = new THREE.CylinderGeometry(.7,.7,.2,16,4,false);
		  var geometry12 = new THREE.CylinderGeometry(.7,.7,.2,16,4,false);
		  var geometry13 = new THREE.CylinderGeometry(.7,.7,.2,16,4,false);
		  
		  var geometry14 = new THREE.CylinderGeometry(.6,.6,.02,16,4,false);
		  var geometry15 = new THREE.CylinderGeometry(.6,.6,.02,16,4,false);
		  var geometry16 = new THREE.CylinderGeometry(.6,.6,.02,16,4,false);
		  var geometry17 = new THREE.CylinderGeometry(.6,.6,.02,16,4,false);
		  //termina carro
		  
            var material  = new THREE.MeshBasicMaterial({color: 0x228B22, wireframe: true}); 
            var material2 = new THREE.MeshBasicMaterial({color: 0x5C3317, wireframe: true});
			var material3 = new THREE.MeshBasicMaterial({color: 0xC00000, wireframe: true});
			var material4 = new THREE.MeshBasicMaterial({color: 0x03B4C8, wireframe: true});
			//carro
			var material11  = new THREE.MeshBasicMaterial({color: 0xFF0000, wireframe: true}); 
           var material22 = new THREE.MeshBasicMaterial({color: 0x000000, wireframe: true});
		   var material33 = new THREE.MeshBasicMaterial({color: 0xBDBDBD, wireframe: true});
            
            var cone22 = new THREE.Mesh(geometry, material); 
            var cone11 = new THREE.Mesh(geometry2, material2);
			var cone33 = new THREE.Mesh(geometry3, material);
			var base = new THREE.Mesh(geometry4, material3);
			var puerta  = new THREE.Mesh(geometry5, material2);
			var ventana = new THREE.Mesh(geometry6, material4);
			var ventana2 = new THREE.Mesh(geometry6, material4);
			var techo = new THREE.Mesh(geometry7, material3);
			//carro
			var cube = new THREE.Mesh(geometry8, material11); 
			var cube2= new THREE.Mesh(geometry9, material11); 
            var cone = new THREE.Mesh(geometry10, material22);
			 var cone2 = new THREE.Mesh(geometry11, material22);
			  var cone3 = new THREE.Mesh(geometry12, material22);
			   var cone4 = new THREE.Mesh(geometry13, material22);
			   
			      var cone5 = new THREE.Mesh(geometry14, material33);
			 var cone6 = new THREE.Mesh(geometry15, material33);
			  var cone7 = new THREE.Mesh(geometry16, material33);
			   var cone8 = new THREE.Mesh(geometry17, material33);
			
            cone11.position.set(0,0,0);
			cone22.position.set(0,4,0);
			cone33.position.set(0,6,0);
			base.position.set(11,0,0);
			puerta.position.set(7.4,-.3,0);
			ventana.position.set(7.4,-.2,2.1);
			ventana2.position.set(7.4,-.2,-1.7);
			techo.position.set(11,2,0);
			
			cube.position.set(-9,0,0);
		cube2.position.set(-9,1.15,0);
		
          cone.position.set(-12,-.6,2.5);
		  cone.rotation.x += 3.1416/2;
		  
		  cone5.position.set(-12,-.6,2.63);
		  cone5.rotation.x += 3.1416/2;
		  
		  cone2.position.set(-12,-.6,-2.5);
		  cone2.rotation.x += 3.1416/2;
		  
		  cone6.position.set(-12,-.6,-2.63);
		  cone6.rotation.x += 3.1416/2;
		  
		    cone3.position.set(-6,-.6,-2.5);
		  cone3.rotation.x += 3.1416/2;
		  
		  cone7.position.set(-6,-.6,-2.63);
		  cone7.rotation.x += 3.1416/2;
		  
		    cone4.position.set(-6,-.6,2.5);
		  cone4.rotation.x += 3.1416/2;
		  
		  cone8.position.set(-6,-.6,2.63);
		  cone8.rotation.x += 3.1416/2;

            scene.add(cube); 
			scene.add(cube2); 
            scene.add(cone);
			scene.add(cone2);
			scene.add(cone3);
			scene.add(cone4);
			scene.add(cone5);
			scene.add(cone6);
			scene.add(cone7);
			scene.add(cone8);

            scene.add(cone22); 
            scene.add(cone11);
			scene.add(cone33);
			scene.add(base);
			scene.add(puerta);
			scene.add(ventana);
			scene.add(ventana2);
			scene.add(techo);

         
			

            var render = function () { 
                requestAnimationFrame(render);
								
                //cube.rotation.x += 0.01; 
				cone.rotation.y += 0.01;
				cone2.rotation.y += 0.01; 
				cone3.rotation.y += 0.01; 
				cone4.rotation.y += 0.01; 
				cone5.rotation.y += 0.01; 
				cone6.rotation.y += 0.01; 
				cone7.rotation.y += 0.01; 
				cone8.rotation.y += 0.01;                
                
				camera.rotation.y = b;
				camera.position.x = x;				
				camera.position.z = z;
				camera.position.y = y;

				
                renderer.render(scene, camera); 

            }; 
            render(); 
            
        </script> 
    </body> 
</html>